# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Selectel

## –í–∞—Ä–∏–∞–Ω—Ç 1: GitHub Actions (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ü—Ä–∏ –∫–∞–∂–¥–æ–º `git push` –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:

1. **–°–æ–∑–¥–∞–π SSH –∫–ª—é—á –¥–ª—è GitHub Actions:**
   ```bash
   ssh-keygen -t ed25519 -C "github-actions" -f ~/.ssh/github_actions
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   ssh-copy-id -i ~/.ssh/github_actions.pub root@45.130.8.3
   ```

3. **–î–æ–±–∞–≤—å —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub:**
   - GitHub ‚Üí —Ç–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
   - –î–æ–±–∞–≤—å:
     - `SERVER_HOST` = `45.130.8.3`
     - `SERVER_USER` = `root`
     - `SERVER_SSH_KEY` = —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `~/.ssh/github_actions` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á)

4. **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git push` –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è.

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Cursor (—è –≤—ã–ø–æ–ª–Ω—è—é –∫–æ–º–∞–Ω–¥—ã)

–Ø –º–æ–≥—É –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ SSH, –Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ:

1. **–î–æ–±–∞–≤–∏—Ç—å SSH –∫–ª—é—á –≤ Cursor** (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
2. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å** (–º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –¢—ã –ø–∏—à–µ—à—å: "–æ–±–Ω–æ–≤–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ"
- –Ø –≤—ã–ø–æ–ª–Ω—è—é: `ssh root@45.130.8.3 'cd /root/sels && git pull && docker compose up -d'`

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** Cursor –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ SSH, –ø–æ—ç—Ç–æ–º—É GitHub Actions –Ω–∞–¥—ë–∂–Ω–µ–µ.

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–µ–∫—Ç:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
nano /root/update-sels.sh
```

–í—Å—Ç–∞–≤—å:
```bash
#!/bin/bash
cd /root/sels
git pull origin main
docker compose build
docker compose up -d
echo "‚úÖ –ü—Ä–æ–µ–∫—Ç –æ–±–Ω–æ–≤–ª—ë–Ω!"
```

–°–¥–µ–ª–∞–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x /root/update-sels.sh
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:
```bash
ssh root@45.130.8.3 '/root/update-sels.sh'
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑—É–π GitHub Actions** ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏ –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è. –ù–∞—Å—Ç—Ä–æ–π –æ–¥–∏–Ω —Ä–∞–∑, –∏ –≤—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
