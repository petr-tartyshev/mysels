version: '3.9'

services:
  web:
    build: .
    container_name: sels_web
    restart: always
    env_file:
      - .env.production
    environment:
      # Переменная DATABASE_URL ДОЛЖНА указывать на Supabase
      # Пример: postgresql://postgres:password@db.xxx.supabase.co:5432/postgres
      NODE_ENV: production
      # DATABASE_URL должен быть установлен через .env.production на сервере
    ports:
      - "3000:3000"

    # Если понадобятся логи в stdout/stderr
    # logging:
    #   driver: "json-file"
    #   options:
    #     max-size: "10m"
    #     max-file: "3"

